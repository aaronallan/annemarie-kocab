var ApplicationRouter=Backbone.Router.extend({initialize:function(el){this.el=el,this.researchInterestsView=new ContentPaneView({template:"research-interests"}),this.participateView=new ContentPaneView({template:"participate"}),this.publicationsView=new ContentPaneView({template:"publications"}),this.collaboratorsView=new ContentPaneView({template:"collaborators"}),this.cvView=new ContentPaneView({template:"cv"}),this.notFoundView=new ContentPaneView({template:"not-found"})},routes:{"":"researchInterests","research-interests":"researchInterests",publications:"publications",collaborators:"collaborators",participate:"participate",cv:"cv","*else":"notFound"},currentView:null,switchView:function(view){this.currentView&&this.currentView.remove(),this.el.html(view.el),view.render(),this.currentView=view},setActiveTab:function(url){$("li").removeClass("active"),$("li a[href='"+url+"']").parents("li").addClass("active")},researchInterests:function(){this.switchView(this.researchInterestsView),this.setActiveTab("#research-interests")},publications:function(){this.switchView(this.publicationsView),this.setActiveTab("#publications")},collaborators:function(){this.switchView(this.collaboratorsView),this.setActiveTab("#collaborators")},cv:function(){this.switchView(this.cvView),this.setActiveTab("#cv")},participate:function(){this.switchView(this.participateView),this.setActiveTab("#participate")},notFound:function(){this.switchView(this.notFoundView)}});TemplateManager={templates:{},get:function(id,callback){var template=this.templates[id];if(template)callback(template);else{var that=this;$.get("rachel/"+id+".html",function(template){var html=$(template);that.templates[id]=html,callback(html)})}}},Backbone.View=Backbone.View.extend({remove:function(){return $(this.el).empty().detach(),this}});var ContentPaneView=Backbone.View.extend({initialize:function(options){this.template=options.template},el:"div.content-inner",imgLoaded:!1,renderImage:function(){var that=this;that.imgLoaded===!1&&($("img").hide(),$("img").on("load",function(){$(".loading-cog").hide(),$("img").fadeIn(300),that.imgLoaded=!0}))},render:function(options){var that=this;return TemplateManager.get(this.template,function(template){var html=$(template);if(that.$el.html(html),that.renderImage(),"home"===that.template&&$(".fa-map-pin a").on("click",function(){$(".modal").addClass("show")}),"about"===that.template){$(".continue-reading").on("click",function(){$(".history-modal").addClass("show")});for(var i=2;i<=6;i++)$(".secondary").hide(),$(".secondary").delay(2e3*i).fadeIn(500).delay(2e3*i).fadeOut(500)}}),this}});!function($){$(document).on("ready",function(){$(".hamburger").on("click",function(){$(".nav-menu").slideToggle()}),$(".nav-menu ul li").on("click",function(){$(window).width()<830&&$(".nav-menu").slideToggle()}),$(window).width()>830?$(".nav-menu").attr("style","display: block"):$(".nav-menu").attr("style","display: none")}),$(window).on("resize",function(){$(window).width()>830?$(".nav-menu").attr("style","display: block"):$(".nav-menu").attr("style","display: none")})}(jQuery);